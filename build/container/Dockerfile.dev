FROM golang:1.13.4-alpine
# --- download kubectl binary ---
WORKDIR /tmp
RUN curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.15.0/bin/linux/amd64/kubectl && \
        chmod +x ./kubectl
WORKDIR /fun-cloud-api
COPY . .
# --- download realize (hot reload) ---
RUN apk add --no-cache git && go get gopkg.in/urfave/cli.v2@master && go get github.com/oxequa/realize
EXPOSE 3000
CMD ["realize", "start"," --name='container'"," --run"]